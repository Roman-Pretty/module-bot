<script lang="ts">
/**
 * Displays the messages for the bot and the users. This component
 * also ensures that no HTML is injected into the messages.
 */

import {defineComponent} from 'vue';
import {MessageType} from "./Chat.vue";
import showdown from 'showdown';
import {CircleAlert} from 'lucide-vue-next';
//@ts-ignore
import {HollowDotsSpinner} from 'epic-spinners'

export default defineComponent({
  name: "Message",
  components: {HollowDotsSpinner, CircleAlert},
  data() {
    return {
      html: '',
      converter: new showdown.Converter(),
      error: false,
    };
  },
  props: {
    message: {
      type: Object as () => MessageType,
      required: true,
    },
  },
  mounted() {
    this.updateHtml();
  },
  watch: {
    'message.message': {
      immediate: true,
      handler() {
        this.updateHtml();
      },
    },
  },
  methods: {
    updateHtml() {
      // Protect against null or undefined messages
      let text = this.message.message || '';
      if (text.includes('ERROR:', 0)) {
        this.error = true;
        text = text.slice(6);
      }
      this.converter.setOption('simpleLineBreaks', true);
      this.html = this.converter.makeHtml(text);
    },
  },
});
</script>


<template>
  <div :class="['chat message my-2', !message.bot_message ? 'chat-end' : 'chat-start']">
    <div class="chat-image avatar">
      <div class="w-10 rounded-full border border-primary dark:border-base-content/20 text-primary dark:text-base-content dark:bg-base-200"
           v-if="message.bot_message">
        <svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 2000 2000" class="w-full h-full">
          <path
              d="M0 0 C0.76356812 0.00060425 1.52713623 0.0012085 2.31384277 0.00183105 C76.8997464 0.16099527 144.90711438 26.99837997 199.53125 77.69140625 C201.8358188 79.80723881 204.17705267 81.85195717 206.5625 83.875 C209.79940423 86.68652051 212.58962615 89.712814 215.35546875 92.984375 C217.48009152 95.45507034 219.70745013 97.8116255 221.9375 100.1875 C259.6090242 141.67746916 280.24750985 197.01860754 286.25 252.1875 C286.3903064 253.44445679 286.3903064 253.44445679 286.53344727 254.72680664 C289.08979405 280.86320907 288.77974737 308.49486426 283.25 334.1875 C282.92056396 335.72543213 282.92056396 335.72543213 282.58447266 337.29443359 C274.42037275 374.25533033 259.28066515 409.34456879 237.25 440.1875 C236.8468457 440.75500977 236.44369141 441.32251953 236.02832031 441.90722656 C230.21153177 450.03486204 223.80178609 457.65085317 217.25 465.1875 C216.52167969 466.02925781 215.79335937 466.87101562 215.04296875 467.73828125 C206.33157578 477.61334823 197.18338676 487.752797 186.25 495.1875 C188.57984409 497.51734409 190.37337166 498.14106533 193.453125 499.296875 C195.11154419 499.92311768 195.11154419 499.92311768 196.8034668 500.56201172 C198.02332275 501.01592285 199.24317871 501.46983398 200.5 501.9375 C201.79285829 502.422984 203.08557958 502.90883297 204.37817383 503.39501953 C215.67969039 507.63657763 227.01402111 511.7904259 238.34732056 515.94613647 C251.53877347 520.7840072 264.67751109 525.74839448 277.77416992 530.83740234 C290.07400369 535.60175543 302.29627451 540.26541135 315.375 542.375 C316.32093018 542.53516602 317.26686035 542.69533203 318.24145508 542.86035156 C320.09356993 543.17213296 321.94648724 543.47919685 323.80029297 543.78076172 C325.83148909 544.11801234 327.85628671 544.49354171 329.87890625 544.87890625 C352.30023617 548.97373407 374.11752955 545.85186181 393.25 533.1875 C396.92112268 530.44595465 400.13552749 527.54381602 403.25 524.1875 C403.86875 523.52621094 404.4875 522.86492188 405.125 522.18359375 C418.36710571 506.60638458 424.39051876 485.31554397 423.25 465.1875 C421.29525059 450.85819287 415.15383151 438.76876434 404.25 429.1875 C389.91573126 418.57652962 374.02590481 416.55614285 356.6875 418.609375 C352.11355023 419.09656791 352.11355023 419.09656791 348.25 421.1875 C348.93964844 421.39503906 349.62929687 421.60257813 350.33984375 421.81640625 C359.15845991 424.7075575 367.11261534 429.11958085 372.25 437.12890625 C376.42353116 445.72051142 377.20427517 454.89277665 375.25 464.1875 C373.95744852 467.50836304 372.31499426 470.29297813 370.25 473.1875 C369.528125 474.239375 368.80625 475.29125 368.0625 476.375 C360.82584986 483.61165014 352.52621806 487.05409216 342.4375 487.5625 C332.6719331 487.2783564 325.38477346 483.39302968 318.41796875 476.703125 C310.53254464 467.55319144 309.62873918 457.788351 310.25 446.1875 C311.41418269 438.32926681 316.07945343 432.97313018 321.25 427.1875 C321.81976562 426.53523438 322.38953125 425.88296875 322.9765625 425.2109375 C336.64909009 410.50163056 358.19567511 406.20795141 377.47607422 405.19189453 C399.80046741 404.53740237 421.61443827 414.82036262 437.9375 429.625 C438.700625 430.470625 439.46375 431.31625 440.25 432.1875 C440.84039063 432.79722656 441.43078125 433.40695312 442.0390625 434.03515625 C458.91528521 451.98650512 467.35187131 475.12512894 466.65625 499.55078125 C465.24104474 525.47115017 451.01852139 548.15258399 433.25 566.1875 C432.60675781 566.84363281 431.96351563 567.49976563 431.30078125 568.17578125 C407.95578898 590.20413621 371.25229159 597.96440707 340.25 597.1875 C339.06664062 597.17074219 337.88328125 597.15398438 336.6640625 597.13671875 C327.72132623 596.82925729 319.05626442 595.64009113 310.25 594.0625 C309.2386499 593.8869458 308.2272998 593.7113916 307.18530273 593.53051758 C286.67445329 589.66164347 266.7572523 582.9097294 247.0625 576.125 C245.44784348 575.57233963 245.44784348 575.57233963 243.80056763 575.0085144 C226.06529852 568.93804442 208.44145712 562.60179928 190.88557434 556.03271484 C183.96122043 553.44453014 177.02290235 550.89507974 170.08203125 548.3515625 C168.39200233 547.73211006 168.39200233 547.73211006 166.66783142 547.10014343 C162.1670252 545.45078492 157.66603456 543.8019311 153.1647644 542.15383911 C150.05215194 541.01380137 146.940084 539.87228884 143.828125 538.73046875 C142.88737625 538.3863797 141.9466275 538.04229065 140.97737122 537.68777466 C140.11762192 537.37210541 139.25787262 537.05643616 138.37207031 536.73120117 C137.62064758 536.45588058 136.86922485 536.18056 136.09503174 535.89689636 C134.25 535.1875 134.25 535.1875 132.25 534.1875 C125.46103927 533.59197713 121.25840909 535.17720297 115.25 538.1875 C88.83840443 550.66610083 60.23260712 557.30035387 31.25 560.1875 C30.31091797 560.28248779 29.37183594 560.37747559 28.40429688 560.4753418 C-41.89323066 567.00048359 -113.67872349 545.82419519 -169.75 503.1875 C-170.27094238 502.7965918 -170.79188477 502.40568359 -171.32861328 502.00292969 C-181.06627227 494.67485172 -189.99389579 486.65533741 -198.75 478.1875 C-199.59038818 477.37998291 -199.59038818 477.37998291 -200.44775391 476.55615234 C-207.08893561 470.15307694 -213.1628447 463.54375457 -218.75 456.1875 C-219.75800061 454.89496381 -220.76721588 453.6033744 -221.77734375 452.3125 C-268.63972369 392.16285747 -288.50762248 317.74902654 -279.37548828 242.08447266 C-276.02881377 217.91945443 -268.85105507 194.75591437 -259.75 172.1875 C-259.30986572 171.07157471 -259.30986572 171.07157471 -258.86083984 169.93310547 C-247.3199517 140.83628718 -228.4231435 115.38612608 -207.75 92.1875 C-206.97172852 91.31230713 -206.97172852 91.31230713 -206.17773438 90.41943359 C-196.35490649 79.4264785 -185.74400633 69.76876638 -174.0703125 60.76953125 C-171.34076944 58.66355422 -168.70055426 56.46982615 -166.0625 54.25 C-128.8183758 24.56353087 -77.00615083 5.44157865 -29.75 1.1875 C-28.85474609 1.10282471 -27.95949219 1.01814941 -27.03710938 0.9309082 C-18.02113855 0.14584882 -9.04216096 -0.01330092 0 0 Z M-107.75 61.1875 C-108.69488281 61.88875 -109.63976562 62.59 -110.61328125 63.3125 C-124.14475481 73.82557202 -136.36200642 86.65113421 -146.47900391 100.45898438 C-147.8140561 102.27461433 -149.17637073 104.06739331 -150.54296875 105.859375 C-165.99754465 126.28899944 -177.97501491 149.14908908 -186.75 173.1875 C-187.02150879 173.92500488 -187.29301758 174.66250977 -187.57275391 175.42236328 C-215.01118016 250.92464182 -210.00434541 337.89428355 -176.52050781 410.59033203 C-168.07102988 428.49595338 -158.0278843 444.35675964 -145.22363281 459.4375 C-143.86161002 461.05495848 -142.52963528 462.69089779 -141.2109375 464.34375 C-136.7016294 469.98425909 -131.98414745 475.21006823 -126.75 480.1875 C-122.9344097 478.91563657 -122.64797792 477.68444903 -120.6875 474.25 C-108.5888554 454.75072311 -87.50001363 445.40853983 -65.90625 440.2734375 C-32.88594583 433.36566971 0.64092178 440.88544204 32.71289062 448.87884521 C37.28927796 450.00309636 41.85600861 450.86565401 46.52514648 451.49560547 C49.84589968 452.33881079 52.75666816 453.72006312 55.8651886 455.14456177 C59.59335532 456.7749832 63.4281647 457.9934672 67.3046875 459.21875 C68.15263382 459.49165863 69.00058014 459.76456726 69.8742218 460.04574585 C71.68645298 460.62882434 73.49934186 461.20986206 75.31283569 461.78900146 C80.10164179 463.31904551 84.88502567 464.86580316 89.66796875 466.4140625 C90.63485123 466.72691193 91.6017337 467.03976135 92.59791565 467.36209106 C102.24619419 470.49364235 111.84803482 473.75580534 121.4375 477.0625 C122.19923523 477.32506592 122.96097046 477.58763184 123.74578857 477.8581543 C127.91551913 479.29650172 132.08357439 480.73960178 136.25 482.1875 C136.8699585 481.495354 137.48991699 480.80320801 138.12866211 480.09008789 C138.94085205 479.18508545 139.75304199 478.28008301 140.58984375 477.34765625 C141.39542725 476.44926025 142.20101074 475.55086426 143.03100586 474.62524414 C145.36226347 472.06416952 147.80145219 469.63604781 150.25 467.1875 C196.06890321 420.20460618 216.92838254 344.47787987 216.48217773 280.37719727 C215.15344438 208.63227339 194.35792447 141.34152407 146.25 87.1875 C145.45166748 86.27846924 145.45166748 86.27846924 144.63720703 85.35107422 C143.03965173 83.53669078 141.42876633 81.73521984 139.8125 79.9375 C139.32845703 79.38811768 138.84441406 78.83873535 138.34570312 78.27270508 C135.48522457 75.13920797 133.14296555 73.70996337 129.25 72.1875 C128.23046875 70.3515625 128.23046875 70.3515625 127.25 68.1875 C119.6960443 60.07873399 110.64595593 53.9470349 101.25 48.1875 C100.5708252 47.76968262 99.89165039 47.35186523 99.19189453 46.92138672 C81.3228219 36.09328698 61.69643051 28.47327089 41.25 24.1875 C40.47688477 24.02523926 39.70376953 23.86297852 38.90722656 23.69580078 C-12.6473035 13.39552457 -66.53667742 29.84311578 -107.75 61.1875 Z M-115.75 486.1875 C-116.70231597 488.30869128 -116.70231597 488.30869128 -116.75 490.1875 C-85.07030484 515.86318514 -46.87038093 536.95736363 -5 537.42578125 C-4.27328094 537.43566574 -3.54656189 537.44555023 -2.79782104 537.45573425 C29.16459091 537.80030064 60.00319023 533.23100525 88.25 517.1875 C88.25 516.1975 88.25 515.2075 88.25 514.1875 C72.98362116 507.14080864 57.63229963 500.3840565 42 494.1875 C41.33469269 493.92095612 40.66938538 493.65441223 39.98391724 493.37979126 C31.83111051 490.12212224 23.65698406 487.28102228 15.19622803 484.92333984 C11.75908834 483.96081066 8.41759922 482.90583968 5.08422852 481.62524414 C2.04735057 480.45937227 -0.92621373 479.55579981 -4.11328125 478.87109375 C-5.07161865 478.66508545 -6.02995605 478.45907715 -7.01733398 478.24682617 C-38.84645436 471.7472856 -87.964323 464.29953022 -115.75 486.1875 Z "
              fill="currentColor" transform="translate(996.75,724.8125)"/>
          <path
              d="M0 0 C1.97134516 -0.00436032 1.97134516 -0.00436032 3.98251548 -0.00880873 C7.60790809 -0.0165447 11.23319314 -0.0119646 14.85858385 -0.00525283 C18.81134347 -0.00015567 22.76408727 -0.00670863 26.71684462 -0.01173949 C33.63722241 -0.01894827 40.55756897 -0.01875272 47.47794819 -0.01364517 C57.768965 -0.00607064 68.05995554 -0.00995268 78.35097219 -0.01606179 C96.732517 -0.02658772 115.1140479 -0.02568266 133.49559402 -0.01990396 C149.58228038 -0.01487158 165.66896163 -0.01356004 181.75564861 -0.01594925 C182.82298297 -0.01610202 183.89031732 -0.01625479 184.98999514 -0.01641219 C189.322734 -0.01703487 193.65547287 -0.01767167 197.98821173 -0.01833172 C238.62843235 -0.02444899 279.26864411 -0.01890401 319.90886336 -0.00813792 C356.00819669 0.00135252 392.1075159 0.00050452 428.2068491 -0.00905991 C468.77153778 -0.01977151 509.33621863 -0.02401447 549.90090853 -0.01783538 C554.22603388 -0.01719395 558.55115924 -0.01656827 562.8762846 -0.01594925 C563.94122834 -0.01579109 565.00617209 -0.01563294 566.10338685 -0.01546999 C582.17850994 -0.01319595 598.25362736 -0.01585394 614.32874966 -0.02090836 C632.60937433 -0.0266276 650.88998292 -0.02519567 669.17060559 -0.01434687 C679.39906007 -0.00847678 689.62747973 -0.00808737 699.85593331 -0.01563922 C706.69134493 -0.02012893 713.52672868 -0.01732389 720.36213618 -0.00862968 C724.25451764 -0.00388005 728.14682999 -0.00222891 732.03920924 -0.00944164 C736.23949925 -0.01714536 740.43962104 -0.00928015 744.63990784 0 C746.43699855 -0.0070235 746.43699855 -0.0070235 748.27039412 -0.01418889 C766.95464283 0.06825609 785.04250467 3.40781253 799.47662449 16.09152603 C804.20368396 20.98883976 807.12027563 26.54587944 808.38287449 33.25168228 C808.1265629 43.45891434 802.84590196 51.57880946 796.04693699 58.79855728 C784.68008129 69.26539801 768.61473844 75.48799277 753.38287449 77.25168228 C752.1125034 77.41603775 752.1125034 77.41603775 750.81646824 77.58371353 C729.36545425 79.87222854 707.74212915 77.52661087 686.34985447 75.71771622 C677.64245071 74.98158749 668.93258044 74.27550172 660.22276402 73.56859016 C658.15494123 73.4007367 656.08714154 73.23259852 654.01936436 73.06418419 C629.2705892 71.05012035 604.50753932 69.23870898 579.74218845 67.44197845 C569.38139837 66.69027579 559.02076563 65.93640959 548.66021824 65.18136978 C547.54345078 65.10002604 546.42668331 65.01868229 545.27607441 64.93487358 C529.78949727 63.80584843 514.30561918 62.6457159 498.82428074 61.44699478 C497.91096485 61.37632608 496.99764896 61.30565739 496.05665684 61.23284721 C487.58331941 60.57675493 479.11030027 59.91676714 470.63796806 59.24781418 C467.64236281 59.01172467 464.64659691 58.77771692 461.65080166 58.54405212 C459.68661501 58.39001103 457.72267073 58.23288849 455.75874424 58.07556534 C438.36509595 56.7194095 421.02545103 56.08439893 403.58209324 56.04855728 C402.62098951 56.0457299 401.65988579 56.04290253 400.66965771 56.03998947 C395.54875147 56.02511173 390.42787239 56.01581943 385.30694675 56.01144791 C381.21180041 56.00713554 377.11687342 55.99351487 373.0217905 55.97043228 C321.13137782 55.68516669 269.57764485 59.43502489 217.87003791 63.45547062 C210.76353056 64.00762876 203.65638039 64.55130889 196.54916751 65.09429872 C192.90116592 65.37300827 189.25318601 65.65200115 185.6052103 65.93104935 C184.5186679 66.01416322 184.5186679 66.01416322 183.41017514 66.09895617 C175.40107068 66.71182087 167.39220927 67.32784013 159.38336277 67.94406509 C114.93337246 71.36368583 114.93337246 71.36368583 92.9211607 73.02886677 C87.25049637 73.45804696 81.58005006 73.8897156 75.91009617 74.32818985 C36.15910535 77.40072649 36.15910535 77.40072649 17.53131199 78.00949478 C16.31304218 78.04994415 15.09477238 78.09039352 13.8395853 78.13206863 C-9.39883901 78.73925679 -31.47522551 73.5884505 -49.52728176 58.32980728 C-56.7505552 51.14703818 -60.00221122 43.30295292 -60.62884426 33.23996353 C-60.59712395 25.15128319 -56.5793502 20.30752179 -51.13275051 14.57980728 C-37.28683786 1.76588812 -18.03943056 -0.07036529 0 0 Z "
              fill="currentColor" transform="translate(629.6171255111694,1338.7483177185059)"/>
          <path
              d="M0 0 C0.5538535 7.13462823 -1.47952118 13.57958445 -3.3046875 20.4296875 C-3.65870604 21.78447056 -4.01184757 23.13948306 -4.36418152 24.4947052 C-5.12440429 27.41368347 -5.88936548 30.33136124 -6.6579895 33.24813843 C-8.55182119 40.43905107 -10.41621773 47.63762191 -12.28115273 54.83607292 C-12.71310577 56.50333108 -13.14531739 58.17052227 -13.57777977 59.83764839 C-17.6957354 75.71715489 -21.65000407 91.63333423 -25.54451752 107.56887436 C-34.11148491 142.60904925 -42.92429113 177.58683146 -51.75 212.5625 C-54.60348195 223.87093807 -57.45663734 235.17945834 -60.30859375 246.48828125 C-60.57628814 247.54971175 -60.57628814 247.54971175 -60.84939051 248.63258529 C-66.47781608 270.95068563 -72.08037002 293.27515911 -77.66015625 315.60546875 C-77.83430573 316.3023717 -78.00845521 316.99927466 -78.18788195 317.71729589 C-81.70133952 331.77761275 -85.21154896 345.83873851 -88.71811008 359.90077686 C-89.93008676 364.76032046 -91.14291561 369.61965116 -92.35586357 374.47895241 C-93.17666548 377.76891214 -93.99609761 381.05921085 -94.81544495 384.34953308 C-97.45291273 394.92521767 -100.13987433 405.48208077 -103 416 C-103.99 415.67 -104.98 415.34 -106 415 C-107.32068909 412.26300631 -108.49242588 409.56342416 -109.625 406.75 C-118.52623802 385.7825932 -133.5397722 370.39759837 -154.515625 361.33984375 C-183.34667943 350.25346295 -217.63101163 346.7648058 -246.5 359.375 C-249.02552137 360.53941387 -251.50932563 361.76010097 -254 363 C-254.99515625 363.4846875 -255.9903125 363.969375 -257.015625 364.46875 C-271.08969883 371.70684511 -285.16067153 382.74100729 -294 396 C-294.66 396 -295.32 396 -296 396 C-296.25962153 389.20927431 -295.30407572 382.96889891 -294 376.3125 C-293.77997314 375.18618164 -293.55994629 374.05986328 -293.33325195 372.89941406 C-285.5597671 334.55127653 -273.36068444 286.36123496 -238.625 263.1875 C-223.29118867 253.97414462 -208.66475938 251.86461465 -191.40283203 256.09130859 C-175.37733496 260.40516778 -161.60365466 269.42451965 -149 280 C-148.47535156 280.43441406 -147.95070313 280.86882812 -147.41015625 281.31640625 C-140.62873017 286.93888191 -134.07229495 292.73628246 -127.8125 298.9375 C-127.27197998 299.46883545 -126.73145996 300.0001709 -126.17456055 300.54760742 C-123.25243157 303.49305002 -121.02762393 306.39045276 -119 310 C-118.34 310.66 -117.68 311.32 -117 312 C-117.66 309.36 -118.32 306.72 -119 304 C-119.66 304 -120.32 304 -121 304 C-142.14363207 248.46254212 -142.36894058 193.27281709 -118.0625 138.5 C-116.75052803 135.6451438 -115.38674878 132.81918627 -114 130 C-113.6385791 129.25411621 -113.2771582 128.50823242 -112.90478516 127.73974609 C-104.00764452 109.54365847 -92.71128511 92.74674564 -80 77 C-79.50677246 76.38350586 -79.01354492 75.76701172 -78.50537109 75.13183594 C-75.23054553 71.0400668 -71.92516633 66.97504793 -68.59082031 62.93164062 C-67.58642333 61.71205975 -66.58531755 60.48975405 -65.58886719 59.26367188 C-53.73912824 44.70713976 -40.30262489 31.14609324 -26 19 C-25.16952148 18.28686646 -25.16952148 18.28686646 -24.32226562 17.55932617 C-20.5721113 14.34449835 -16.7874194 11.17075573 -13 8 C-12.02546875 7.18015625 -11.0509375 6.3603125 -10.046875 5.515625 C-8.72429687 4.42507813 -8.72429687 4.42507813 -7.375 3.3125 C-6.21097656 2.34763672 -6.21097656 2.34763672 -5.0234375 1.36328125 C-3 0 -3 0 0 0 Z "
              fill="currentColor" transform="translate(1584,746)"/>
          <path
              d="M0 0 C9.79208423 3.44889338 17.46570205 12.11318078 25 19 C26.66537216 20.50143709 28.33203806 22.00144044 30 23.5 C31.24330078 24.62148438 31.24330078 24.62148438 32.51171875 25.765625 C34.13257691 27.22108947 35.75989509 28.66940187 37.39453125 30.109375 C47.17748172 38.77020999 56.65821019 47.92689532 65 58 C65.6703125 58.804375 66.340625 59.60875 67.03125 60.4375 C69.37444065 63.27573093 71.6899932 66.1347031 74 69 C74.41765625 69.51272461 74.8353125 70.02544922 75.265625 70.55371094 C101.56940881 102.89864992 121.54627632 139.57946627 132 180 C132.20109375 180.7439502 132.4021875 181.48790039 132.609375 182.25439453 C144.19215083 225.44523516 135.63650393 268.49592812 119 309 C119.87140625 308.05640625 120.7428125 307.1128125 121.640625 306.140625 C143.47837376 282.5615373 168.18443174 257.43213567 202 254 C216.34818259 253.64129544 228.54283324 258.26639635 241 265 C241 265.66 241 266.32 241 267 C241.57621094 267.26425781 242.15242187 267.52851562 242.74609375 267.80078125 C265.5132045 279.91430465 276.99401708 313.36124626 283.97705078 336.19482422 C286.17476931 343.74940979 288.11534421 351.36224307 290 359 C290.29068359 360.15516113 290.58136719 361.31032227 290.88085938 362.50048828 C291.75068119 365.97545523 292.59850264 369.45497325 293.4375 372.9375 C293.69684326 373.98470215 293.95618652 375.0319043 294.22338867 376.11083984 C295.79575623 382.84461608 296.31396038 389.09202086 296 396 C292.25815038 392.94542888 288.88804994 389.97702111 285.8125 386.25 C269.22641198 366.9424696 243.08604794 354.73240149 218 352 C186.66823981 350.43893246 154.4582312 356.02543378 130 377 C129.21367188 377.66257812 128.42734375 378.32515625 127.6171875 379.0078125 C116.80251347 388.91812355 110.12413652 402.10817172 106 416 C105.01 415.67 104.02 415.34 103 415 C101.94389439 412.49730015 101.94389439 412.49730015 101.0113678 409.21742249 C100.67159975 408.03311708 100.3318317 406.84881168 99.98176765 405.62861824 C98.53277155 400.27312127 97.1400206 394.90953932 95.81811523 389.52124023 C95.52579482 388.34264875 95.23347441 387.16405727 94.9322958 385.9497509 C94.13714381 382.74087927 93.34522186 379.531232 92.5547328 376.32120919 C91.70972988 372.89340822 90.86038331 369.46668362 90.01150513 366.0398407 C88.56558955 360.20055182 87.1221495 354.36065599 85.68045044 348.52032471 C83.4257137 339.38672942 81.16542932 330.25451187 78.90405273 321.12255859 C78.3383714 318.83806136 77.77269969 316.55356174 77.20703024 314.26906157 C76.83155141 312.75266346 76.4560662 311.23626693 76.08057457 309.719872 C74.77483072 304.44653236 73.46971234 299.17303817 72.16487122 293.8994751 C66.65573135 271.63506879 61.12796102 249.37540193 55.5625 227.125 C55.19214767 225.6436974 54.82179652 224.1623945 54.45144653 222.68109131 C50.48241502 206.80993421 46.48573076 190.94596106 42.45703125 175.08984375 C42.26739241 174.34343061 42.07775356 173.59701748 41.88236809 172.82798576 C40.17331546 166.10183256 38.46363465 159.37583922 36.75241089 152.65023804 C32.61672762 136.39263207 28.51838602 120.12683404 24.515625 103.8359375 C24.24011149 102.71463912 24.24011149 102.71463912 23.95903206 101.57068825 C22.32286404 94.90921894 20.68972637 88.24700889 19.06002808 81.58395386 C15.55696726 67.26400327 12.02988193 52.9544045 8.26953125 38.69921875 C7.98180847 37.60776047 7.69408569 36.51630219 7.39764404 35.39176941 C6.08056693 30.40922705 4.75053823 25.43060053 3.40087891 20.45678711 C2.94298159 18.74464288 2.4851332 17.03248557 2.02734375 15.3203125 C1.81890335 14.56960983 1.61046295 13.81890717 1.39570618 13.04545593 C0.20364774 8.55748832 -0.19750172 4.64490554 0 0 Z "
              fill="currentColor" transform="translate(408,746)"/>
          <path
              d="M0 0 C1.86743164 0.23657227 1.86743164 0.23657227 4 1 C5.16577148 2.81225586 5.16577148 2.81225586 6.12109375 5.21484375 C6.6780896 6.56630493 6.6780896 6.56630493 7.24633789 7.94506836 C7.63942139 8.9325708 8.03250488 9.92007324 8.4375 10.9375 C15.54060897 28.00463623 23.74716136 44.53951615 32.95581055 60.56884766 C43.16591573 78.45861343 49.79165538 96.36528226 44.25 117 C42.58521741 122.57107604 40.56216299 127.7841682 38 133 C37.34 133 36.68 133 36 133 C35.71125 133.86625 35.4225 134.7325 35.125 135.625 C34.08333333 138.75 33.04166667 141.875 32 145 C32.556875 144.49210938 33.11375 143.98421875 33.6875 143.4609375 C36.10345601 141.28167988 38.54640328 139.13675431 41 137 C41.93392578 136.16275391 41.93392578 136.16275391 42.88671875 135.30859375 C54.64373906 125.54083067 72.13120191 122.98621831 87 124 C100.64594533 125.42145264 111.36426153 129.67921716 120.78515625 139.9453125 C122.33244048 141.90019334 123.68525891 143.88224339 125 146 C125.45117188 146.71414063 125.90234375 147.42828125 126.3671875 148.1640625 C134.15980117 161.95099438 134.23112323 178.0095296 130.375 193 C125.41776744 208.86669776 116.11235684 224.34482085 102.1875 233.9375 C100 235 100 235 98 235 C97.90203125 234.46375 97.8040625 233.9275 97.703125 233.375 C97.16902432 230.57557577 96.58982373 227.78825765 96 225 C95.5978125 223.081875 95.5978125 223.081875 95.1875 221.125 C92.93537063 210.94790189 90.53963011 201.57256415 81.3125 195.5625 C72.90444319 191.1653977 65.0898853 189.74471509 55.6875 189.625 C54.92244141 189.61098145 54.15738281 189.59696289 53.36914062 189.58251953 C47.71537675 189.63074718 43.6462323 190.77462817 39.20703125 194.5078125 C32.46345746 202.32809135 31.40085956 209.98332452 31.6640625 220.1875 C32.74844332 232.49396142 38.79240564 243.35154775 44.23730469 254.23510742 C45 256 45 256 45 258 C38.13978279 258.16886689 31.71611443 257.49010955 24.9375 256.5 C5.76918577 253.94481831 -12.52461461 254.57563032 -31.58154297 257.63623047 C-35.37656405 258.20705435 -39.18318361 258.60329759 -43 259 C-41.59587902 254.26651998 -39.53916732 250.15235351 -37.125 245.875 C-30.08419862 233.05766024 -25.38483058 218.79977046 -28.6484375 204.07421875 C-30.67179432 198.37596171 -33.65194772 194.0131438 -39 191 C-50.07788967 187.76398563 -64.24184937 189.03839117 -74.38671875 194.21875 C-83.25657056 199.49667835 -87.20484692 207.14780457 -90.19140625 216.7890625 C-91.32289769 221.28223142 -92.01622189 225.78999115 -92.60546875 230.3828125 C-93 233 -93 233 -94 235 C-104.55109149 232.05978292 -111.58150037 223.12454891 -117 214 C-126.776926 196.55895829 -131.79414439 178.60024131 -127.12890625 158.82421875 C-123.56948088 146.76651134 -116.48930154 136.26089849 -105.4921875 129.86328125 C-90.12226754 121.59577304 -72.37487023 123.06342429 -55.90234375 127.62890625 C-46.95412916 130.58279638 -38.22866768 134.95657333 -31 141 C-30.34 141.33 -29.68 141.66 -29 142 C-29.495 138.535 -29.495 138.535 -30 135 C-30.66 135 -31.32 135 -32 135 C-40.00442009 118.55256145 -45.8418691 103.34059159 -40.25 84.9375 C-33.67349567 67.60279252 -24.62308395 51.1748651 -16.02856445 34.78564453 C-10.12325024 23.45796015 -4.6484582 11.90574497 0 0 Z "
              fill="currentColor" transform="translate(1000,440)"/>
          <path
              d="M0 0 C7.65743012 6.44465113 13.72206092 14.88080893 15 25 C15.10755202 35.12013336 13.39577063 44.88829091 7 53 C0.541946 59.4716499 -8.20796267 63.52728029 -17.328125 64.09375 C-26.27455429 63.7798402 -34.27093057 60.92798974 -41 55 C-48.62736871 46.7704706 -51.44364219 37.42827165 -51.19921875 26.31640625 C-50.39761702 16.99582143 -45.61829502 11.33253098 -39 5 C-34.40541362 1.26689857 -29.58709966 -0.3244427 -24 -2 C-30.51119746 -4.5943979 -36.25965715 -5.51795975 -43.25 -5.4375 C-44.62816895 -5.42722778 -44.62816895 -5.42722778 -46.03417969 -5.41674805 C-53.62004307 -5.23876689 -59.99638931 -4.06344986 -67 -1 C-67.80308594 -0.649375 -68.60617187 -0.29875 -69.43359375 0.0625 C-81.16434872 5.91771219 -90.70468315 16.15492297 -95.1875 28.4453125 C-101.12401312 47.1110797 -97.86766617 67.73398703 -89 85 C-79.09881723 102.94124095 -65.06654253 115.00749485 -45.34765625 120.83935547 C2.61116572 133.4619149 60.17601999 104.81499762 103.59613037 86.93067932 C107.22197376 85.52690209 109.1065473 85.29790197 113 86 C115.58064399 87.92392097 117.82455297 90.06542082 120.140625 92.30078125 C131.45527423 102.98168647 144.74231878 111.94140945 158 120 C157.74578857 121.88697815 157.74578857 121.88697815 157 124 C155.30645752 125.03892517 155.30645752 125.03892517 153.06738281 125.80834961 C151.80299377 126.25623337 151.80299377 126.25623337 150.51306152 126.71316528 C149.12214294 127.17805862 149.12214294 127.17805862 147.703125 127.65234375 C146.7397522 127.98869843 145.77637939 128.3250531 144.78381348 128.67160034 C141.61093047 129.77548576 138.43072366 130.85643663 135.25 131.9375 C133.04666386 132.69921439 130.84386755 133.46249202 128.64160156 134.22729492 C124.19331853 135.77008913 119.74235695 137.30474179 115.2890625 138.83300781 C109.79651847 140.72081031 104.3164364 142.64139935 98.84375 144.5859375 C90.65469941 147.49509002 82.45359734 150.36777596 74.24414062 153.21881104 C71.93755274 154.02173799 69.63273473 154.82959788 67.328125 155.63818359 C48.76512669 162.13831656 30.52615255 168.07660216 11 171 C9.87207031 171.18038818 8.74414062 171.36077637 7.58203125 171.54663086 C-1.37216447 172.88183301 -10.10998834 173.3424999 -19.15136719 173.31567383 C-21.36703724 173.31251137 -23.58136799 173.33610739 -25.796875 173.36132812 C-56.81533957 173.4986301 -86.74398248 162.73428068 -110 142 C-112.49769289 139.45518083 -114.74413161 136.75883243 -117 134 C-117.69738281 133.22398437 -118.39476562 132.44796875 -119.11328125 131.6484375 C-133.74545631 114.9187313 -142.76545485 91.94165964 -142.1875 69.58203125 C-140.68288608 48.86224374 -133.15621603 31.01529184 -120 15 C-118.96939453 13.72189453 -118.96939453 13.72189453 -117.91796875 12.41796875 C-88.87128287 -21.80215283 -35.61432638 -27.55678648 0 0 Z "
              fill="currentColor" transform="translate(672,1144)"/>
        </svg>
      </div>
    </div>


    <div :class="['chat-bubble',
    message.bot_message ? 'bg-base-100 text-base-content bot max-w-full' : 'text-base-200 dark:bg-base-300 dark:text-base-content max-w-[70%]',
    error ? 'bg-error/10 ' : '']">
      <div v-if="error" class="text-error h-full flex items-center gap-2">
        <CircleAlert/>
        <div class="pb-4" v-html="html"/>
      </div>
      <div v-else-if="message.bot_message" v-html="html"/>
      <span v-else>{{message.message}}</span>
      <div class="mt-2 inline-block dark:hidden" v-if="message.loading">
        <hollow-dots-spinner
            :animation-duration="800"
            :dot-size="10"
            :dots-num="3"
            color="#072355"
        />
      </div>
      <div class="mt-2 dark:inline-block hidden" v-if="message.loading">
        <hollow-dots-spinner
            :animation-duration="800"
            :dot-size="10"
            :dots-num="3"
            color="#87adbb"
        />
      </div>
    </div>
  </div>
</template>

<style>
.bot p, .bot ol {
  padding-top: 1rem;
}

.bot li {
  margin-left: 2rem;
  list-style-type: disc;
}

.bot a {
  color: #0d3273;
  text-decoration: underline;
}

</style>